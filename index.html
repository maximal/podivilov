<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<!-- CSS only -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
	      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

	<title>Генератор семьи Подивиловых</title>
	<style>
		.result {
			font-size: 200%;
		}
		.form-check-label {
			user-select: none;
		}
		footer {
			margin-top: 2rem;
			padding-top: 1rem;
			border-top: 1px solid rgba(0, 0, 0, 0.15);
			text-align: center;
			font-size: 80%;
			opacity: 0.4;
			transition: all 0.5s;
		}
		footer:hover {
			opacity: 1;
		}
	</style>
</head>
<body>

<div class="container-fluid">
	<div class="row">
		<div class="col text-center"><h1>Генератор семьи Подивиловых</h1></div>
	</div>
	<div class="row">
		<div class="col">
			<p class="lead text-center result js-result"></p>
		</div>
	</div>
	<div class="row">
		<div class="col">
			<div class="text-center">
				<button class="btn btn-success btn-lg js-button">Новая фамилия</button>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col text-center">
			<br>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="mode" id="mode-easy" value="easy" checked>
				<label class="form-check-label" for="mode-easy">Просто</label>
			</div>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="mode" id="mode-hard" value="hard">
				<label class="form-check-label" for="mode-hard">Сложно</label>
			</div>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="mode" id="mode-maniac" value="maniac">
				<label class="form-check-label" for="mode-maniac">Маньячество</label>
			</div>
		</div>
	</div>
</div>
<footer>
	©
	<a href="https://maximals.ru/" target="_blank">Максимал</a>
	из&nbsp;<a href="https://sijeko.ru/" target="_blank">Сиджеко</a>
	для&nbsp;<a href="https://podivilov.ru/" target="_blank">Подивилова</a>
	6 июня 2021 года
	&middot;
	<a href="https://github.com/maximal/podivilov">ГитХаб</a>
</footer>

<script>
	document.addEventListener("DOMContentLoaded", function () {
		var result = document.querySelector('.js-result');
		var button = document.querySelector('.js-button');
		var modes = document.querySelectorAll('[name=mode]');
		var arrStart = ['ди', 'ви', 'ли'];
		var arrEnd = ['дов', 'вов', 'лов'];
		function run() {
			var mode = document.querySelector('[name=mode]:checked').value;
			var count = 2;
			switch (mode) {
				case 'easy':
					count = getRandomIntInclusive(2, 3);
					break;
				case 'hard':
					count = getRandomIntInclusive(4, 6);
					break;
				case 'maniac':
					count = getRandomIntInclusive(7, 9);
					break;
			}
			var arr = ['По'];
			for (var i = 0; i < count; i++) {
				arr.push(randomElement(arrStart));
			}
			arr.push(randomElement(arrEnd));
			result.textContent = arr.join('');
		}
		run();

		button.addEventListener('click', run);
		for (let i in modes) {
			if (!modes.hasOwnProperty(i)) {
				continue;
			}
			modes[i].addEventListener('change', run);
			modes[i].addEventListener('click', run);
		}
	});

	function getRandomIntInclusive(min, max) {
		min = Math.ceil(min);
		max = Math.floor(max);
		return Math.floor(Math.random() * (max - min + 1) + min);
	}
	function randomElement(array) {
		return array[getRandomIntInclusive(0, array.length - 1)];
	}
</script>
</body>
</html>
